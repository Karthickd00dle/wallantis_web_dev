"use strict";(self.webpackChunkwallantics=self.webpackChunkwallantics||[]).push([[3074],{28868:(e,s,t)=>{t.d(s,{VX:()=>l,gV:()=>n,lx:()=>a,xS:()=>r});var o=t(24618);const r=e=>(s,t,r)=>{let{apiCall:a,Toast:n}=r;return new Promise(((s,t)=>{a({...o.iJ.registationApi,body:e}).then((e=>{s(e)})).catch((e=>{let{message:s}=e;t(n({type:"error",message:s}))}))}))},a=e=>(s,t,r)=>{let{apiCall:a,Toast:n}=r;return new Promise(((s,t)=>{a({...o.iJ.loginApi,body:e}).then((e=>{let{response:t}=e;sessionStorage.setItem("authToken",t.access_token),s(t)})).catch((e=>{let{message:s}=e;t(n({type:"error",message:s}))}))}))},n=e=>(s,t,r)=>{let{apiCall:a,Toast:n}=r;return new Promise(((s,t)=>{a({...o.iJ.verifyOTP,body:e}).then((e=>{s(e),n({type:"success",message:e.message})})).catch((e=>{let{message:s}=e;t(n({type:"error",message:s}))}))}))},l=e=>(s,t,r)=>{let{apiCall:a,Toast:n}=r;return new Promise(((s,t)=>{a({...o.iJ.resendOTP,body:e}).then((e=>{s(e),n({type:"success",message:e.message})})).catch((e=>{let{message:s}=e;t(n({type:"error",message:s}))}))}))}},13074:(e,s,t)=>{t.r(s),t.d(s,{default:()=>x});var o=t(72791),r=t(30456),a=t(59050),n=t(78687),l=t(28868),i=t(45214),c=t(63695),d=t(63466),p=t(61134),g=t(64880),m=t(56543),u=t(55872),h=t(80184);const x=(0,n.$j)(((e,s)=>({ownProps:s})),(e=>(0,a.DE)({loginApiCall:l.lx},e)))((function(e){let{loginApiCall:s,ownProps:t}=e;const a=(0,g.TH)().pathname.split("/").slice(-1)[0],{register:n,handleSubmit:l,formState:{errors:x}}=(0,p.cI)(),v=(0,g.k6)(),[f,j]=(0,o.useState)();function w(e){const s=null===e||void 0===e?void 0:e.access_token;s?sessionStorage.setItem("authToken",s):console.log("Access token is generated from credential"),(0,m.aV)("payment-page"===a?t.setActiveStep(1):v.push("/home/"))}return(0,h.jsx)("form",{onSubmit:l((e=>{s({username:e.mailId,password:e.password,loginType:3}).then((e=>{let{response:s}=e;return w(s)}))})),children:(0,h.jsxs)("div",{className:`login-entries ${t.postLogin}post-login`,children:[(0,h.jsxs)("div",{className:"d-flex flex-column",children:[(0,h.jsx)(c.t7,{placeholder:"Enter Email/Mobile number",variant:"standard",name:"mailId",className:"email-mobile-input-field mt-4",register:n,errors:x,onChange:e=>j(e.target.value)}),(0,h.jsx)(c.t7,{placeholder:"Enter Password",variant:"standard",className:"password-input-field mt-4",type:"password",min:8,max:20,name:"password",register:n,errors:x,endAdornment:(null===t||void 0===t?void 0:t.postlogin)&&(0,h.jsx)(d.Z,{position:"end",children:(0,h.jsx)("label",{onClick:()=>{v.push("/auth/forgotpassword",1)},className:"forget-text-inputfield cursor-pointer",children:"Forget Password?"})})}),!(null!==t&&void 0!==t&&t.postlogin)&&(0,h.jsx)("div",{className:"d-flex justify-content-end",children:(0,h.jsx)("label",{onClick:()=>{v.push("/auth/forgot-password",f)},className:"forget-text-inputfield cursor-pointer pt-3",children:"Forgot Password?"})})]}),(0,h.jsx)("div",{className:"login-terms",children:(0,h.jsxs)("label",{children:["By continuing, you agree to Paperwall ",(0,h.jsx)("a",{href:"",children:"Terms of use"})," ","and ",(0,h.jsx)("a",{href:"",children:"Privacy policy"})]})}),(0,h.jsx)(i.op,{style:{backgroundColor:"#A26220",color:"#FFFFFF"},className:"login-button",type:"submit",children:"Login"}),(0,h.jsx)("div",{className:"mt-4 login-google",children:(0,h.jsx)(u.kZ,{onSuccess:e=>{(e=>{const t=(0,r.Z)(e.credential);s({username:t.sub,loginType:2}).then((e=>{let{response:s}=e;return w(s)}))})(e)},onError:()=>{console.log("Login Failed")}})}),(null===t||void 0===t?void 0:t.postlogin)&&(0,h.jsxs)("div",{className:"login-register-post",children:["Don\u2019t have an account",(0,h.jsx)("a",{className:"ps-2 cursor-pointer",onClick:()=>{v.push("/auth/register")},children:"Create a account"})]}),!(null!==t&&void 0!==t&&t.postlogin)&&(0,h.jsxs)("div",{className:"login-register",children:[(0,h.jsx)("label",{className:"dont-have-account-text",children:"Don\u2019t have an account?"}),(0,h.jsx)("label",{className:"register-now-text ps-2 cursor-pointer",onClick:()=>{v.push("/auth/register")},children:"Register Now"})]})]})})}))}}]);
//# sourceMappingURL=3074.74618c64.chunk.js.map