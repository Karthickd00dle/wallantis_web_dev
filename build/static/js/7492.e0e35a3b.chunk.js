"use strict";(self.webpackChunkwallantics=self.webpackChunkwallantics||[]).push([[7492],{28868:(e,t,s)=>{s.d(t,{VX:()=>o,gV:()=>l,lx:()=>n,xS:()=>a});var r=s(24618);const a=e=>(t,s,a)=>{let{apiCall:n,Toast:l}=a;return new Promise(((t,s)=>{n({...r.iJ.registationApi,body:e}).then((e=>{t(e)})).catch((e=>{let{message:t}=e;s(l({type:"error",message:t}))}))}))},n=e=>(t,s,a)=>{let{apiCall:n,Toast:l}=a;return new Promise(((t,s)=>{n({...r.iJ.loginApi,body:e}).then((e=>{sessionStorage.setItem("authToken",e),t(e)})).catch((e=>{let{message:t}=e;s(l({type:"error",message:t}))}))}))},l=e=>(t,s,a)=>{let{apiCall:n,Toast:l}=a;return new Promise(((t,s)=>{n({...r.iJ.verifyOTP,body:e}).then((e=>{t(e),l({type:"success",message:e.message})})).catch((e=>{let{message:t}=e;s(l({type:"error",message:t}))}))}))},o=e=>(t,s,a)=>{let{apiCall:n,Toast:l}=a;return new Promise(((t,s)=>{n({...r.iJ.resendOTP,body:e}).then((e=>{t(e),l({type:"success",message:e.message})})).catch((e=>{let{message:t}=e;s(l({type:"error",message:t}))}))}))}},77492:(e,t,s)=>{s.r(t),s.d(t,{default:()=>b});var r=s(72791),a=s(60908),n=s(61134),l=s(73939),o=s(78687),i=s(6598),m=s(28868),c=s(64880),d=s(52007),p=s.n(d);const u=function(){let{startTime:e,endTime:t,multiplier:s=1,timeOut:a=1e3}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[n,l]=((e,t,s)=>{const r=void 0!==typeof(e&&t);return r&&e>=t?[e,t]:r&&e<t?[e,e]:[e||60,t||0]})(e,t),[o,i]=(0,r.useState)(n);(0,r.useEffect)((()=>{const e=setInterval((()=>{o>l&&i((e=>{const t=e-1;return t<l?l:t}))}),a);return()=>{clearInterval(e)}}),[o,l,a]);return[(e=>{const t=parseInt(e,10);return[Math.floor(t/60)%60,t%60].map((e=>e.toString().padStart(2,"0"))).join(":")})(o),i]};u.propTypes={startTime:p().number,endTime:p().number,multiplier:p().number,timeOut:p().number},u.defaultProps={startTime:p().number,endTime:p().number,multiplier:1,timeOut:1e3};s(45651);var g=s(10272),h=s(80184);const b=(0,o.$j)(((e,t)=>({ownProps:t})),(e=>(0,i.DE)({verifyOTPApiCall:m.gV,resendOTPApi:m.VX},e)))((function(e){let{verifyOTPApiCall:t,resendOTPApi:s}=e;const{register:o,handleSubmit:i,formState:{errors:m}}=(0,n.cI)();let d=(0,c.TH)();const[p,b]=(0,r.useState)("disabled"),[y,f]=(0,r.useState)(),[T,w]=u({multiplier:1,startTime:60}),P=()=>{w(60);let e={emailId:y||d.state};s(e)};return(0,r.useEffect)((()=>{""!=d.state&&P(d.state)}),[]),(0,h.jsx)("form",{onSubmit:i((e=>{let s={emailId:e.emailId,otp:e.otp,forgotPassword:e.password};t(s).then((()=>{g.m.push("/home/login")}))})),children:(0,h.jsxs)("div",{className:"forgot-password-container",children:[(0,h.jsx)(a.t7,{variant:"standard",className:"input-phonenumber mb-3",disabled:p,name:"mailId",onChange:e=>f(e.target.value),register:o,errors:m,defaultValue:d.state,endAdornment:(0,h.jsx)("label",{onClick:()=>{b(!p)},className:"label-change cursor-pointer",children:"Change ?"})}),(0,h.jsxs)("div",{className:"otp-resend-container d-flex justify-content-between my-4",children:["00:00"!==T&&(0,h.jsx)("label",{children:T}),(0,h.jsx)("label",{className:"label-resend pe-1 cursor-pointer "+("00:00"!==T?"resend-hidden":""),onClick:()=>P(),disabled:"00:00"!==T,children:"Resend?"})]}),(0,h.jsx)(a.t7,{type:"number",placeholder:"Enter OTP",name:"otp",className:"input-otp my-3",register:o,errors:m}),(0,h.jsx)(a.t7,{type:"password",placeholder:"Set Password",className:"input-password my-3",name:"password",register:o,errors:m}),(0,h.jsx)(l.op,{style:{backgroundColor:"#A26220",color:"#FFFFFF"},className:"mt-5 py-2",children:"Login"})]})})}))}}]);
//# sourceMappingURL=7492.e0e35a3b.chunk.js.map