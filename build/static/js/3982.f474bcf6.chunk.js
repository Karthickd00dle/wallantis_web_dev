"use strict";(self.webpackChunkwallantics=self.webpackChunkwallantics||[]).push([[3982],{28868:(e,s,r)=>{r.d(s,{gV:()=>o,lx:()=>t,xS:()=>l});var a=r(24618);const l=e=>(s,r,l)=>{let{apiCall:t,Toast:o}=l;return new Promise(((s,r)=>{t({...a.iJ.registationApi,body:e}).then((e=>{s(e)})).catch((e=>{let{message:s}=e;r(o({type:"error",message:s}))}))}))},t=e=>(s,r,l)=>{let{apiCall:t,Toast:o}=l;return new Promise(((s,r)=>{t({...a.iJ.loginApi,body:e}).then((e=>{localStorage.setItem("authToken",e),s(e)})).catch((e=>{let{message:s}=e;r(o({type:"error",message:s}))}))}))},o=e=>(s,r,l)=>{let{apiCall:t,Toast:o}=l;return new Promise(((s,r)=>{t({...a.iJ.verifyOTP,body:e}).then((e=>{s(e),o({type:"error",message:e.message})})).catch((e=>{let{message:s}=e;r(o({type:"error",message:s}))}))}))}},63982:(e,s,r)=>{r.r(s),r.d(s,{default:()=>h});var a=r(72791),l=r(48409),t=r(60908),o=r(61134),i=r(64880),n=r(6598),c=r(78687),p=r(28868),m=(r(25403),r(10272)),d=r(80184);const u=(0,c.$j)(((e,s)=>({ownProps:s})),(e=>(0,n.DE)({verifyOTPApiCall:p.gV},e)))((function(e){let{verifyOTPApiCall:s,currentEmail:r}=e;const{register:a,handleSubmit:i,formState:{errors:n}}=(0,o.cI)();return(0,d.jsx)("form",{onSubmit:i((e=>{let a={emailId:r,otp:e.otp,password:e.password};s(a).then((()=>{m.m.push("/auth/login")}))})),children:(0,d.jsxs)("div",{className:"post-register-container",children:[(0,d.jsxs)("div",{className:"otp-resend-container d-flex justify-content-between my-4",children:[(0,d.jsx)("label",{className:"label-otp-sent",children:" OTP sent to Mobile"}),(0,d.jsx)("label",{className:"label-resend pe-1",children:"Resend? "})]}),(0,d.jsx)(t.t7,{type:"number",placeholder:"Enter OTP",name:"otp",className:"input-otp my-3",register:a,errors:n}),(0,d.jsx)(t.t7,{type:"password",placeholder:"Set Password",className:"input-password my-3",name:"password",register:a,errors:n}),(0,d.jsxs)("div",{className:"d-flex flex-column",children:[(0,d.jsx)(l.op,{style:{backgroundColor:"#A26220",color:" #FFFFFF"},className:"py-2 mb-3",children:"Verify OTP"}),(0,d.jsx)(l.op,{style:{color:"#2A71F9",borderRadius:"5px",boxShadow:"0px 4px 20px rgba(0, 0, 0, 0.15)"},className:"py-2 mt-3",onClick:()=>m.m.push("/auth/login"),children:"Existing User? Log in"})]})]})})})),h=(0,c.$j)(((e,s)=>({ownProps:s})),(e=>(0,n.DE)({registationApiCall:p.xS,verifyOTPApiCall:p.gV},e)))((e=>{let{registationApiCall:s}=e;const r=(0,i.k6)(),[n,c]=(0,a.useState)(),[p,m]=(0,a.useState)(""),{register:h,handleSubmit:x,formState:{errors:g}}=(0,o.cI)();return(0,d.jsx)(d.Fragment,{children:n?(0,d.jsx)(u,{currentEmail:p}):(0,d.jsx)("div",{className:"d-flex register-container",children:(0,d.jsxs)("form",{onSubmit:x((e=>{let r={emailId:e.email,loginType:3};s(r).then((s=>{c(!0),m(e.email)})).catch((e=>{console.log(e)}))})),children:[(0,d.jsx)(t.t7,{type:"email",name:"email",variant:"standard",placeholder:"Enter Email/Mobile number",className:"input-mobile-email",register:h,errors:g}),(0,d.jsx)("label",{className:"label-privacy-policy ",children:"By continuing, you agree to Paperwall Terms of use and Privacy policy"}),(0,d.jsxs)("div",{className:"d-flex flex-column",children:[(0,d.jsx)(l.op,{style:{backgroundColor:"#A26220",color:" #FFFFFF"},className:"py-2 mb-3",type:"submit",children:"Continue"}),(0,d.jsx)(l.op,{style:{color:"#2A71F9",borderRadius:"5px",boxShadow:"0px 4px 20px rgba(0, 0, 0, 0.15)"},className:"py-2 mt-3",onClick:()=>r.push("/auth/login"),children:"Existing User? Log in"})]})]})})})}))}}]);
//# sourceMappingURL=3982.f474bcf6.chunk.js.map